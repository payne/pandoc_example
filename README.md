# Toying with PDF attachements

Example files to go with this note: https://mattpayne.org/posts/qpdf_pandoc_carry_source/

Here's a copy & paste of that note:

***********************

Here's a demo that uses [QPDF](https://qpdf.readthedocs.io/en/stable/cli.html#embedded-files-attachments) to embed the markdown source code of a file into the PDF generated by [pandoc](https://pandoc.org/demos.html#examples).

Using the [example markdown file from the Markdown to reStructuredText example](https://raw.githubusercontent.com/payne/pandoc_example/main/eg1.md) at [https://pandoc.org/try/](https://pandoc.org/try/)


I'm able to use pandoc to produce [eg1.pdf](https://github.com/payne/pandoc_example/blob/main/eg1.pdf) and then attach
[eg1.md](https://raw.githubusercontent.com/payne/pandoc_example/main/eg1.md) to eg1.pdf creating [out.pdf](https://github.com/payne/pandoc_example/blob/main/out.pdf).  Notice in step 4 that the list of attachements output is shown:


1. `nix-shell -p pandoc qpdf`
1. `pandoc -s eg1.md -o eg1.pdf`  
1. `qpdf eg1.pdf --add-attachment eg1.md -- out.pdf` 
1. `qpdf --list-attachments ../out.pdf`  
```
eg1.md -> 146,0
```
5. `qpdf --show-attachment=eg1.md ../out.pdf  > fromPDF.md`
6. `diff fromPDF.md ../eg1.md`


I'm very grateful to Brian for pointing out QPDF to me when I went asking about attaching files to PDFs.  Thanks, Brian!

